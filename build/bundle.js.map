{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/js/controller.js","src/js/main.js","src/js/model.js","src/js/service.js","src/js/template.js","src/js/util.js","src/js/view.js"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/* jshint esversion:6, devel: true */\n\nexport default class Controller {\n    \n    constructor(model, view) {\n        this.model = model;\n        this.view  = view;\n    }\n    \n    render(data) {\n        this.view.render(data);\n    }\n    \n    setView(hash) {\n        \n        console.log('setView fired. Hash: ', hash);\n        \n        // router in here?\n        // this.router.route(hash)   // ???\n        //     .then( data => this.render(data) );   // ???\n        \n        this.model.getGalleries()\n            .then( data => this.render(data) );\n        \n    }\n    \n}","/* jshint esversion:6, browser:true */\n\nimport Model      from './model';\nimport { $on }    from './util';\nimport View       from './view';\nimport Controller from './controller';\n\nclass App {\n    \n    constructor() {\n        const model = new Model();\n        const view  = new View();\n        this.controller = new Controller(model, view);\n    }\n    \n}\n\nconst app = new App();\n\n// evnet handler calls controller's 'setView' method with URI hash\nconst setView = () => {\n    app.controller.setView(document.location.hash);\n};\n\n// register event listeners\n$on(window, 'load',       setView);\n$on(window, 'hashchange', setView);\n","/* jshint esversion:6, devel:true */\n\nimport { getJSON } from './service';\n\nexport default class Model {\n    \n    constructor() {\n    }\n    \n    /* fetch galleries\n    */\n    getGalleries() {\n        return getJSON('src/js/mock.json')\n            .then( galleries => galleries );\n    }\n    \n}","/* jshint esversion:6, browser:true */\n\nconst getJSON = (url) => {\n    const xhr = new XMLHttpRequest();\n    return new Promise( (resolve, reject) => {\n        xhr.onreadystatechange = () => {\n            if (xhr.readyState === 4) {\n                if (xhr.status === 200) {\n                    resolve(JSON.parse(xhr.responseText));\n                } else {\n                    reject(xhr.responseText);\n                }\n            }\n        };\n        xhr.open('GET', url);\n        xhr.send();\n    });\n};\n\nexport { getJSON };\n","/* jshint esversion:6 */\n\n/* utility method for easy templating of repeating html elements\n *\n * @params  [array]  literalsArr   [array of all the literal secti\n * @params  [array]  ...cooked     [rest param: all the proccessed expressions]\n * @returns [string]               [the processed string]\n*/\nconst html = (literalsArr, ...cooked) => {\n    let result = '';\n    \n    cooked.forEach( (cook, indx) => {\n        let lit = literalsArr[indx];\n        if (Array.isArray(cook)) {\n            cook = cook.join('');\n        }\n        result += lit;\n        result += cook;\n    });\n    result += literalsArr[literalsArr.length - 1];\n    return result;\n};\n\n\n/* generate gallery link\n*/\nconst gallery_link = (gallery) => html`\n    <div class=\"gallery-link\">\n        <a href=\"${gallery.link_url}\">\n            <div class=\"gallery-link-img\" style=\"background-image: url(${gallery.img_url})\"></div>\n            <div class=\"gallery-link-title\">\n                ${gallery.title}\n            </div>\n        </a>\n    </div>\n`;\n\n\n/* generate grid list of galleries\n*/\nconst gallery_list = (galleries) => html`\n    <div class=\"gallery-list\">\n        ${galleries.map( gallery => gallery_link(gallery) )}\n    </div>\n`;\n\nexport { gallery_list };\n","/* jshint esversion:6, browser:true */\n\n/* register handler to an event emitted by a target */\nconst $on = (target, event, handler) => {\n    return target.addEventListener(event, handler);\n};\n\nexport { $on };\n","/* jshint esversion:6, browser: true */\n\nimport { gallery_list } from './template';\n\nexport default class View {\n    \n    constructor() {\n        this.target = document.getElementById('target');\n    }\n    \n    render(data) {\n        console.log(data);\n        this.target.innerHTML = gallery_list(data);\n        \n    }\n    \n}\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvY29udHJvbGxlci5qcyIsInNyYy9qcy9tYWluLmpzIiwic3JjL2pzL21vZGVsLmpzIiwic3JjL2pzL3NlcnZpY2UuanMiLCJzcmMvanMvdGVtcGxhdGUuanMiLCJzcmMvanMvdXRpbC5qcyIsInNyYy9qcy92aWV3LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7OztBQ0FBOztJQUVxQixVO0FBRWpCLHdCQUFZLEtBQVosRUFBbUIsSUFBbkIsRUFBeUI7QUFBQTs7QUFDckIsYUFBSyxLQUFMLEdBQWEsS0FBYjtBQUNBLGFBQUssSUFBTCxHQUFhLElBQWI7QUFDSDs7OzsrQkFFTSxJLEVBQU07QUFDVCxpQkFBSyxJQUFMLENBQVUsTUFBVixDQUFpQixJQUFqQjtBQUNIOzs7Z0NBRU8sSSxFQUFNO0FBQUE7O0FBRVYsb0JBQVEsR0FBUixDQUFZLHVCQUFaLEVBQXFDLElBQXJDOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxpQkFBSyxLQUFMLENBQVcsWUFBWCxHQUNLLElBREwsQ0FDVztBQUFBLHVCQUFRLE1BQUssTUFBTCxDQUFZLElBQVosQ0FBUjtBQUFBLGFBRFg7QUFHSDs7Ozs7O2tCQXRCZ0IsVTs7Ozs7QUNBckI7Ozs7QUFDQTs7QUFDQTs7OztBQUNBOzs7Ozs7MEpBTEE7O0lBT00sRyxHQUVGLGVBQWM7QUFBQTs7QUFDVixRQUFNLFFBQVEscUJBQWQ7QUFDQSxRQUFNLE9BQVEsb0JBQWQ7QUFDQSxTQUFLLFVBQUwsR0FBa0IseUJBQWUsS0FBZixFQUFzQixJQUF0QixDQUFsQjtBQUNILEM7O0FBSUwsSUFBTSxNQUFNLElBQUksR0FBSixFQUFaOztBQUVBO0FBQ0EsSUFBTSxVQUFVLFNBQVYsT0FBVSxHQUFNO0FBQ2xCLFFBQUksVUFBSixDQUFlLE9BQWYsQ0FBdUIsU0FBUyxRQUFULENBQWtCLElBQXpDO0FBQ0gsQ0FGRDs7QUFJQTtBQUNBLGVBQUksTUFBSixFQUFZLE1BQVosRUFBMEIsT0FBMUI7QUFDQSxlQUFJLE1BQUosRUFBWSxZQUFaLEVBQTBCLE9BQTFCOzs7Ozs7Ozs7cWpCQzFCQTs7QUFFQTs7OztJQUVxQixLO0FBRWpCLHFCQUFjO0FBQUE7QUFDYjs7QUFFRDs7Ozs7O3VDQUVlO0FBQ1gsbUJBQU8sc0JBQVEsa0JBQVIsRUFDRixJQURFLENBQ0k7QUFBQSx1QkFBYSxTQUFiO0FBQUEsYUFESixDQUFQO0FBRUg7Ozs7OztrQkFWZ0IsSzs7Ozs7Ozs7QUNKckI7O0FBRUEsSUFBTSxVQUFVLFNBQVYsT0FBVSxDQUFDLEdBQUQsRUFBUztBQUNyQixRQUFNLE1BQU0sSUFBSSxjQUFKLEVBQVo7QUFDQSxXQUFPLElBQUksT0FBSixDQUFhLFVBQUMsT0FBRCxFQUFVLE1BQVYsRUFBcUI7QUFDckMsWUFBSSxrQkFBSixHQUF5QixZQUFNO0FBQzNCLGdCQUFJLElBQUksVUFBSixLQUFtQixDQUF2QixFQUEwQjtBQUN0QixvQkFBSSxJQUFJLE1BQUosS0FBZSxHQUFuQixFQUF3QjtBQUNwQiw0QkFBUSxLQUFLLEtBQUwsQ0FBVyxJQUFJLFlBQWYsQ0FBUjtBQUNILGlCQUZELE1BRU87QUFDSCwyQkFBTyxJQUFJLFlBQVg7QUFDSDtBQUNKO0FBQ0osU0FSRDtBQVNBLFlBQUksSUFBSixDQUFTLEtBQVQsRUFBZ0IsR0FBaEI7QUFDQSxZQUFJLElBQUo7QUFDSCxLQVpNLENBQVA7QUFhSCxDQWZEOztRQWlCUyxPLEdBQUEsTzs7Ozs7Ozs7Ozs7Ozs7QUNuQlQ7O0FBRUE7Ozs7OztBQU1BLElBQU0sT0FBTyxTQUFQLElBQU8sQ0FBQyxXQUFELEVBQTRCO0FBQUEsc0NBQVgsTUFBVztBQUFYLGNBQVc7QUFBQTs7QUFDckMsUUFBSSxTQUFTLEVBQWI7O0FBRUEsV0FBTyxPQUFQLENBQWdCLFVBQUMsSUFBRCxFQUFPLElBQVAsRUFBZ0I7QUFDNUIsWUFBSSxNQUFNLFlBQVksSUFBWixDQUFWO0FBQ0EsWUFBSSxNQUFNLE9BQU4sQ0FBYyxJQUFkLENBQUosRUFBeUI7QUFDckIsbUJBQU8sS0FBSyxJQUFMLENBQVUsRUFBVixDQUFQO0FBQ0g7QUFDRCxrQkFBVSxHQUFWO0FBQ0Esa0JBQVUsSUFBVjtBQUNILEtBUEQ7QUFRQSxjQUFVLFlBQVksWUFBWSxNQUFaLEdBQXFCLENBQWpDLENBQVY7QUFDQSxXQUFPLE1BQVA7QUFDSCxDQWJEOztBQWdCQTs7QUFFQSxJQUFNLGVBQWUsU0FBZixZQUFlLENBQUMsT0FBRDtBQUFBLFdBQWEsSUFBYixrQkFFRixRQUFRLFFBRk4sRUFHb0QsUUFBUSxPQUg1RCxFQUtILFFBQVEsS0FMTDtBQUFBLENBQXJCOztBQVlBOztBQUVBLElBQU0sZUFBZSxTQUFmLFlBQWUsQ0FBQyxTQUFEO0FBQUEsV0FBZSxJQUFmLG1CQUVYLFVBQVUsR0FBVixDQUFlO0FBQUEsZUFBVyxhQUFhLE9BQWIsQ0FBWDtBQUFBLEtBQWYsQ0FGVztBQUFBLENBQXJCOztRQU1TLFksR0FBQSxZOzs7Ozs7OztBQzlDVDs7QUFFQTtBQUNBLElBQU0sTUFBTSxTQUFOLEdBQU0sQ0FBQyxNQUFELEVBQVMsS0FBVCxFQUFnQixPQUFoQixFQUE0QjtBQUNwQyxXQUFPLE9BQU8sZ0JBQVAsQ0FBd0IsS0FBeEIsRUFBK0IsT0FBL0IsQ0FBUDtBQUNILENBRkQ7O1FBSVMsRyxHQUFBLEc7Ozs7Ozs7OztxakJDUFQ7O0FBRUE7Ozs7SUFFcUIsSTtBQUVqQixvQkFBYztBQUFBOztBQUNWLGFBQUssTUFBTCxHQUFjLFNBQVMsY0FBVCxDQUF3QixRQUF4QixDQUFkO0FBQ0g7Ozs7K0JBRU0sSSxFQUFNO0FBQ1Qsb0JBQVEsR0FBUixDQUFZLElBQVo7QUFDQSxpQkFBSyxNQUFMLENBQVksU0FBWixHQUF3Qiw0QkFBYSxJQUFiLENBQXhCO0FBRUg7Ozs7OztrQkFWZ0IsSSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvKiBqc2hpbnQgZXN2ZXJzaW9uOjYsIGRldmVsOiB0cnVlICovXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRyb2xsZXIge1xuICAgIFxuICAgIGNvbnN0cnVjdG9yKG1vZGVsLCB2aWV3KSB7XG4gICAgICAgIHRoaXMubW9kZWwgPSBtb2RlbDtcbiAgICAgICAgdGhpcy52aWV3ICA9IHZpZXc7XG4gICAgfVxuICAgIFxuICAgIHJlbmRlcihkYXRhKSB7XG4gICAgICAgIHRoaXMudmlldy5yZW5kZXIoZGF0YSk7XG4gICAgfVxuICAgIFxuICAgIHNldFZpZXcoaGFzaCkge1xuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coJ3NldFZpZXcgZmlyZWQuIEhhc2g6ICcsIGhhc2gpO1xuICAgICAgICBcbiAgICAgICAgLy8gcm91dGVyIGluIGhlcmU/XG4gICAgICAgIC8vIHRoaXMucm91dGVyLnJvdXRlKGhhc2gpICAgLy8gPz8/XG4gICAgICAgIC8vICAgICAudGhlbiggZGF0YSA9PiB0aGlzLnJlbmRlcihkYXRhKSApOyAgIC8vID8/P1xuICAgICAgICBcbiAgICAgICAgdGhpcy5tb2RlbC5nZXRHYWxsZXJpZXMoKVxuICAgICAgICAgICAgLnRoZW4oIGRhdGEgPT4gdGhpcy5yZW5kZXIoZGF0YSkgKTtcbiAgICAgICAgXG4gICAgfVxuICAgIFxufSIsIi8qIGpzaGludCBlc3ZlcnNpb246NiwgYnJvd3Nlcjp0cnVlICovXG5cbmltcG9ydCBNb2RlbCAgICAgIGZyb20gJy4vbW9kZWwnO1xuaW1wb3J0IHsgJG9uIH0gICAgZnJvbSAnLi91dGlsJztcbmltcG9ydCBWaWV3ICAgICAgIGZyb20gJy4vdmlldyc7XG5pbXBvcnQgQ29udHJvbGxlciBmcm9tICcuL2NvbnRyb2xsZXInO1xuXG5jbGFzcyBBcHAge1xuICAgIFxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zdCBtb2RlbCA9IG5ldyBNb2RlbCgpO1xuICAgICAgICBjb25zdCB2aWV3ICA9IG5ldyBWaWV3KCk7XG4gICAgICAgIHRoaXMuY29udHJvbGxlciA9IG5ldyBDb250cm9sbGVyKG1vZGVsLCB2aWV3KTtcbiAgICB9XG4gICAgXG59XG5cbmNvbnN0IGFwcCA9IG5ldyBBcHAoKTtcblxuLy8gZXZuZXQgaGFuZGxlciBjYWxscyBjb250cm9sbGVyJ3MgJ3NldFZpZXcnIG1ldGhvZCB3aXRoIFVSSSBoYXNoXG5jb25zdCBzZXRWaWV3ID0gKCkgPT4ge1xuICAgIGFwcC5jb250cm9sbGVyLnNldFZpZXcoZG9jdW1lbnQubG9jYXRpb24uaGFzaCk7XG59O1xuXG4vLyByZWdpc3RlciBldmVudCBsaXN0ZW5lcnNcbiRvbih3aW5kb3csICdsb2FkJywgICAgICAgc2V0Vmlldyk7XG4kb24od2luZG93LCAnaGFzaGNoYW5nZScsIHNldFZpZXcpO1xuIiwiLyoganNoaW50IGVzdmVyc2lvbjo2LCBkZXZlbDp0cnVlICovXG5cbmltcG9ydCB7IGdldEpTT04gfSBmcm9tICcuL3NlcnZpY2UnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb2RlbCB7XG4gICAgXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgfVxuICAgIFxuICAgIC8qIGZldGNoIGdhbGxlcmllc1xuICAgICovXG4gICAgZ2V0R2FsbGVyaWVzKCkge1xuICAgICAgICByZXR1cm4gZ2V0SlNPTignc3JjL2pzL21vY2suanNvbicpXG4gICAgICAgICAgICAudGhlbiggZ2FsbGVyaWVzID0+IGdhbGxlcmllcyApO1xuICAgIH1cbiAgICBcbn0iLCIvKiBqc2hpbnQgZXN2ZXJzaW9uOjYsIGJyb3dzZXI6dHJ1ZSAqL1xuXG5jb25zdCBnZXRKU09OID0gKHVybCkgPT4ge1xuICAgIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSggKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCh4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHhoci5vcGVuKCdHRVQnLCB1cmwpO1xuICAgICAgICB4aHIuc2VuZCgpO1xuICAgIH0pO1xufTtcblxuZXhwb3J0IHsgZ2V0SlNPTiB9O1xuIiwiLyoganNoaW50IGVzdmVyc2lvbjo2ICovXG5cbi8qIHV0aWxpdHkgbWV0aG9kIGZvciBlYXN5IHRlbXBsYXRpbmcgb2YgcmVwZWF0aW5nIGh0bWwgZWxlbWVudHNcbiAqXG4gKiBAcGFyYW1zICBbYXJyYXldICBsaXRlcmFsc0FyciAgIFthcnJheSBvZiBhbGwgdGhlIGxpdGVyYWwgc2VjdGlcbiAqIEBwYXJhbXMgIFthcnJheV0gIC4uLmNvb2tlZCAgICAgW3Jlc3QgcGFyYW06IGFsbCB0aGUgcHJvY2Nlc3NlZCBleHByZXNzaW9uc11cbiAqIEByZXR1cm5zIFtzdHJpbmddICAgICAgICAgICAgICAgW3RoZSBwcm9jZXNzZWQgc3RyaW5nXVxuKi9cbmNvbnN0IGh0bWwgPSAobGl0ZXJhbHNBcnIsIC4uLmNvb2tlZCkgPT4ge1xuICAgIGxldCByZXN1bHQgPSAnJztcbiAgICBcbiAgICBjb29rZWQuZm9yRWFjaCggKGNvb2ssIGluZHgpID0+IHtcbiAgICAgICAgbGV0IGxpdCA9IGxpdGVyYWxzQXJyW2luZHhdO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjb29rKSkge1xuICAgICAgICAgICAgY29vayA9IGNvb2suam9pbignJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0ICs9IGxpdDtcbiAgICAgICAgcmVzdWx0ICs9IGNvb2s7XG4gICAgfSk7XG4gICAgcmVzdWx0ICs9IGxpdGVyYWxzQXJyW2xpdGVyYWxzQXJyLmxlbmd0aCAtIDFdO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG5cbi8qIGdlbmVyYXRlIGdhbGxlcnkgbGlua1xuKi9cbmNvbnN0IGdhbGxlcnlfbGluayA9IChnYWxsZXJ5KSA9PiBodG1sYFxuICAgIDxkaXYgY2xhc3M9XCJnYWxsZXJ5LWxpbmtcIj5cbiAgICAgICAgPGEgaHJlZj1cIiR7Z2FsbGVyeS5saW5rX3VybH1cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJnYWxsZXJ5LWxpbmstaW1nXCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJHtnYWxsZXJ5LmltZ191cmx9KVwiPjwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdhbGxlcnktbGluay10aXRsZVwiPlxuICAgICAgICAgICAgICAgICR7Z2FsbGVyeS50aXRsZX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2E+XG4gICAgPC9kaXY+XG5gO1xuXG5cbi8qIGdlbmVyYXRlIGdyaWQgbGlzdCBvZiBnYWxsZXJpZXNcbiovXG5jb25zdCBnYWxsZXJ5X2xpc3QgPSAoZ2FsbGVyaWVzKSA9PiBodG1sYFxuICAgIDxkaXYgY2xhc3M9XCJnYWxsZXJ5LWxpc3RcIj5cbiAgICAgICAgJHtnYWxsZXJpZXMubWFwKCBnYWxsZXJ5ID0+IGdhbGxlcnlfbGluayhnYWxsZXJ5KSApfVxuICAgIDwvZGl2PlxuYDtcblxuZXhwb3J0IHsgZ2FsbGVyeV9saXN0IH07XG4iLCIvKiBqc2hpbnQgZXN2ZXJzaW9uOjYsIGJyb3dzZXI6dHJ1ZSAqL1xuXG4vKiByZWdpc3RlciBoYW5kbGVyIHRvIGFuIGV2ZW50IGVtaXR0ZWQgYnkgYSB0YXJnZXQgKi9cbmNvbnN0ICRvbiA9ICh0YXJnZXQsIGV2ZW50LCBoYW5kbGVyKSA9PiB7XG4gICAgcmV0dXJuIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyKTtcbn07XG5cbmV4cG9ydCB7ICRvbiB9O1xuIiwiLyoganNoaW50IGVzdmVyc2lvbjo2LCBicm93c2VyOiB0cnVlICovXG5cbmltcG9ydCB7IGdhbGxlcnlfbGlzdCB9IGZyb20gJy4vdGVtcGxhdGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWaWV3IHtcbiAgICBcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFyZ2V0Jyk7XG4gICAgfVxuICAgIFxuICAgIHJlbmRlcihkYXRhKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICB0aGlzLnRhcmdldC5pbm5lckhUTUwgPSBnYWxsZXJ5X2xpc3QoZGF0YSk7XG4gICAgICAgIFxuICAgIH1cbiAgICBcbn1cbiJdfQ=="}